
<div class="welcome">
  <p>Rezerwacje</p>
  <hr>
</div>

<div id="service-list-table">
  <h2>Wybierz ofertę</h2>
  <div *ngFor="let service of serviceList" class="service-list-item">
    <button class="service-list-button"
      (click)="selectService(service)" 
      [class.selected]="selectedService === service">
      {{ service.name }}
    </button>
  </div>
</div>

<div class="data-container">
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Numer</th>
          <th>Data</th>
          <th>Czas zaczęcia</th>
          <th>Czas zakończenia</th>
          <th>Opcje</th>
        </tr>
      </thead>
      <tbody>
        <!-- Check if the reservationList is empty -->
        <ng-container *ngIf="reservationList.length === 0; else notEmpty">
          <tr>
            <td colspan="4" id="list-empty">Brak rezerwacji dla tej oferty</td>
          </tr>
        </ng-container>
        <!-- If not empty, display the reservationList -->
        <ng-template #notEmpty>
          <tr *ngFor="let reservation of reservationList">
            <td>{{ reservation.id }}</td>
            <td [ngClass]="{ 'past-date': isPastDate(reservation.date) }">
              {{ getFormattedDate(reservation.date) | date: 'dd.MM.yyyy' }}
            </td>
            <td>{{ getFormattedTime(reservation.start_time) }}</td>
            <td>{{ getFormattedTime(reservation.end_time) }}</td>

            <td>
              <button type="button" class="generic-button" ngClass="edit-button">Edytuj</button>
              <button type="button" class="generic-button">Usuń</button>
            </td>
          </tr>
        </ng-template>
      </tbody>
    </table>
  </div>

  <app-pagination #paginationComponent
      (onPageChange)="fetchServices()">
  </app-pagination>
</div>
